{% extends "base.html" %}

{% block title %}Reset Password{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-7">
        <div class="card shadow-sm">
            <div class="card-header">
                <h3>Password / PIN Reset</h3>
            </div>
            <div class="card-body">
                <p class="text-muted">Please provide your account details to reset your password or PIN.</p>
                
                <form method="POST" action="{{ url_for('forgot_password') }}">
                    <!-- ID Input -->
                    <div class="mb-3">
                        <label for="user_id" class="form-label">ID_First 7digit of phone number</label>
                        <input type="text" class="form-control {% if errors.user_id %}is-invalid{% endif %}" id="user_id" name="user_id" value="{{ form_data.user_id if form_data else '' }}" placeholder="Enter your Customer or Employee ID" required>
                        {% if errors.user_id %}
                            <div class="invalid-feedback">{{ errors.user_id }}</div>
                        {% endif %}
                    </div>

                    <!-- Email Input -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email Address</label>
                        <input type="email" class="form-control {% if errors.email %}is-invalid{% endif %}" id="email" name="email" value="{{ form_data.email if form_data else '' }}" required>
                         {% if errors.email %}
                            <div class="invalid-feedback">{{ errors.email }}</div>
                        {% endif %}
                    </div>

                    <!-- Contact Input -->
                    <div class="mb-3">
                        <label for="contact" class="form-label">Contact Number</label>
                        <input type="tel" class="form-control {% if errors.contact %}is-invalid{% endif %}" id="contact" name="contact" value="{{ form_data.contact if form_data else '' }}" required>
                         {% if errors.contact %}
                            <div class="invalid-feedback">{{ errors.contact }}</div>
                        {% endif %}
                    </div>
                    
                    <hr>

                    <!-- New Password Input -->
                    <div class="mb-3">
                        <label for="new_password" class="form-label">New Password / PIN</label>
                        <input type="password" class="form-control {% if errors.password %}is-invalid{% endif %}" id="new_password" name="new_password" required>
                    </div>

                    <!-- Confirm Password Input -->
                    <div class="mb-3">
                        <label for="confirm_password" class="form-label">Confirm New Password / PIN</label>
                        <input type="password" class="form-control {% if errors.password %}is-invalid{% endif %}" id="confirm_password" name="confirm_password" required>
                        {% if errors.password %}
                            <div class="invalid-feedback">{{ errors.password }}</div>
                        {% endif %}
                    </div>

                    <button type="submit" class="btn btn-primary w-100">Reset Password</button>
                </form>
            </div>
             <div class="card-footer text-center">
                <a href="{{ url_for('login_signup') }}">Back to Login</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
